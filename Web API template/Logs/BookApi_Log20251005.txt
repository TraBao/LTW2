2025-10-05 16:18:20.318 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-05 16:18:23.883 +07:00 [INF] Now listening on: https://localhost:7204
2025-10-05 16:18:24.338 +07:00 [INF] Now listening on: http://localhost:5198
2025-10-05 16:18:24.771 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-05 16:18:25.251 +07:00 [INF] Hosting environment: Development
2025-10-05 16:18:26.724 +07:00 [INF] Content root path: C:\Users\Admin\OneDrive\Desktop\Web API template\Web API template
2025-10-05 16:18:33.513 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2025-10-05 16:18:35.520 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 2099.3341ms
2025-10-05 16:18:35.738 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2025-10-05 16:18:35.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2025-10-05 16:18:35.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 176.5743ms
2025-10-05 16:18:36.769 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 927.5035ms
2025-10-05 16:18:37.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2025-10-05 16:18:38.551 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1480.0482ms
2025-10-05 16:18:45.897 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/auth/login - application/json; charset=utf-8 64
2025-10-05 16:18:46.419 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/auth/login - application/json; charset=utf-8 64
2025-10-05 16:18:46.479 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:18:46.479 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:18:46.551 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Web_API_template.Models.DTO.LoginRequestDTO) on controller WebAPI_simple.Controllers.AuthController (WebAPI_simple).
2025-10-05 16:18:46.551 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Web_API_template.Models.DTO.LoginRequestDTO) on controller WebAPI_simple.Controllers.AuthController (WebAPI_simple).
2025-10-05 16:18:46.803 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/auth/login - application/json; charset=utf-8 64
2025-10-05 16:18:46.818 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:18:46.821 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Web_API_template.Models.DTO.LoginRequestDTO) on controller WebAPI_simple.Controllers.AuthController (WebAPI_simple).
2025-10-05 16:18:51.892 +07:00 [INF] Executed DbCommand (350ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-05 16:18:51.892 +07:00 [INF] Executed DbCommand (171ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-05 16:18:51.892 +07:00 [INF] Executed DbCommand (203ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-05 16:18:52.538 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-05 16:18:52.538 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-05 16:18:52.539 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-05 16:18:52.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'Web_API_template.Models.DTO.LoginResponseDTO'.
2025-10-05 16:18:52.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'Web_API_template.Models.DTO.LoginResponseDTO'.
2025-10-05 16:18:52.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'Web_API_template.Models.DTO.LoginResponseDTO'.
2025-10-05 16:18:52.654 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple) in 6026.5462ms
2025-10-05 16:18:52.654 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple) in 6034.8258ms
2025-10-05 16:18:52.654 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple) in 5759.839ms
2025-10-05 16:18:52.661 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:18:52.662 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:18:52.665 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:18:52.682 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/auth/login - 200 null application/json; charset=utf-8 6787.3867ms
2025-10-05 16:18:52.682 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/auth/login - 200 null application/json; charset=utf-8 6263.9109ms
2025-10-05 16:18:52.682 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/auth/login - 200 null application/json; charset=utf-8 5879.4741ms
2025-10-05 16:18:52.749 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:18:52.884 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:18:52.896 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:18:52.915 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:18:53.375 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:18:53.379 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:18:53.717 +07:00 [INF] Executed DbCommand (159ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:18:53.740 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 3 kết quả.
2025-10-05 16:18:53.746 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:18:53.779 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 878.9052ms
2025-10-05 16:18:53.783 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:18:53.787 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 1038.159ms
2025-10-05 16:19:00.765 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:19:00.785 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:19:00.800 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:19:00.836 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:19:00.845 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:19:00.850 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 45.9364ms
2025-10-05 16:19:00.854 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:19:00.863 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 98.692ms
2025-10-05 16:19:00.904 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:19:00.915 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:19:00.925 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:19:00.980 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:19:00.986 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:19:00.991 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 41.5282ms
2025-10-05 16:19:00.997 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:19:01.002 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 97.8712ms
2025-10-05 16:20:06.525 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/books/add-book - application/json; charset=utf-8 null
2025-10-05 16:20:06.541 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.AddBook (WebAPI_simple)'
2025-10-05 16:20:06.549 +07:00 [INF] Route matched with {action = "AddBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddBook(WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:20:06.862 +07:00 [INF] Executed DbCommand (159ms) [Parameters=[@__addBookRequestDTO_PublisherID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Publishers] AS [p]
        WHERE [p].[Id] = @__addBookRequestDTO_PublisherID_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:20:07.199 +07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__addBookRequestDTO_AuthorIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__addBookRequestDTO_AuthorIds_0) WITH ([value] int '$') AS [a0]
)
2025-10-05 16:20:07.236 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__addBookRequestDTO_PublisherID_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE LOWER([b].[Title]) = @__ToLower_0 AND [b].[PublisherID] = @__addBookRequestDTO_PublisherID_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:20:07.254 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books_Authors] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-10-05 16:20:07.286 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__addBookRequestDTO_PublisherID_0='?' (DbType = Int32), @__yearOfBook_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[PublisherID] = @__addBookRequestDTO_PublisherID_0 AND DATEPART(year, [b].[DateAdded]) = @__yearOfBook_1
2025-10-05 16:20:07.943 +07:00 [INF] Executed DbCommand (266ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([CoverUrl], [DateAdded], [DateRead], [Description], [Genre], [IsRead], [PublisherID], [Rate], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-10-05 16:20:08.033 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'WebAPI_simple.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Genre', table 'Nhasach.dbo.Books'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:b993f667-00f6-40de-b2d1-fa9284a16774
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Genre', table 'Nhasach.dbo.Books'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:b993f667-00f6-40de-b2d1-fa9284a16774
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2025-10-05 16:26:52.348 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-05 16:26:54.365 +07:00 [INF] Now listening on: https://localhost:7204
2025-10-05 16:26:54.471 +07:00 [INF] Now listening on: http://localhost:5198
2025-10-05 16:26:55.476 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-05 16:26:55.885 +07:00 [INF] Hosting environment: Development
2025-10-05 16:26:55.937 +07:00 [INF] Content root path: C:\Users\Admin\OneDrive\Desktop\Web API template\Web API template
2025-10-05 16:27:00.829 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2025-10-05 16:27:02.053 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 1240.4059ms
2025-10-05 16:27:02.261 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2025-10-05 16:27:02.300 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2025-10-05 16:27:03.186 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 924.7036ms
2025-10-05 16:27:04.412 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2111.8175ms
2025-10-05 16:27:04.584 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2025-10-05 16:27:04.802 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.9452ms
2025-10-05 16:27:08.895 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/auth/login - application/json; charset=utf-8 64
2025-10-05 16:27:09.418 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:27:09.499 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Web_API_template.Models.DTO.LoginRequestDTO) on controller WebAPI_simple.Controllers.AuthController (WebAPI_simple).
2025-10-05 16:27:14.993 +07:00 [INF] Executed DbCommand (322ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-05 16:27:15.972 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-05 16:27:16.159 +07:00 [INF] Executing OkObjectResult, writing value of type 'Web_API_template.Models.DTO.LoginResponseDTO'.
2025-10-05 16:27:16.201 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple) in 6659.1451ms
2025-10-05 16:27:16.233 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:27:16.259 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/auth/login - 200 null application/json; charset=utf-8 7366.7101ms
2025-10-05 16:27:16.352 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:27:16.653 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:27:16.701 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:27:16.744 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:27:17.251 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:27:17.257 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:27:17.860 +07:00 [INF] Executed DbCommand (256ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:27:17.932 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 3 kết quả.
2025-10-05 16:27:18.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:27:18.194 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 1484.3293ms
2025-10-05 16:27:18.205 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:27:18.326 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 1974.0709ms
2025-10-05 16:27:22.466 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:27:22.545 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:27:22.551 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:27:22.626 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:27:22.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:27:22.634 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 76.7863ms
2025-10-05 16:27:22.642 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:27:22.645 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 179.1514ms
2025-10-05 16:27:22.662 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:27:22.668 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:27:22.676 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:27:22.795 +07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:27:22.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:27:22.878 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 197.708ms
2025-10-05 16:27:22.885 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:27:22.891 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 228.7103ms
2025-10-05 16:28:13.338 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:28:13.369 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:28:13.371 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:28:13.423 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:28:13.430 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:28:13.433 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 54.9135ms
2025-10-05 16:28:13.435 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:28:13.437 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 102.0479ms
2025-10-05 16:28:13.459 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:28:13.469 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:28:13.470 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:28:13.482 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:28:13.486 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:28:13.490 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 13.2418ms
2025-10-05 16:28:13.497 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:28:13.500 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 46.5543ms
2025-10-05 16:30:20.220 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-05 16:30:20.311 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-05 16:30:20.367 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-05 16:30:20.488 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-05 16:30:20.500 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-05 16:30:20.502 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-05 16:30:20.516 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-05 16:30:20.536 +07:00 [INF] Applying migration '20251005093010_Allow Null Genre'.
2025-10-05 16:30:20.788 +07:00 [INF] Executed DbCommand (217ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Books]') AND [c].[name] = N'Genre');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [Books] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [Books] ALTER COLUMN [Genre] nvarchar(max) NULL;
2025-10-05 16:30:20.799 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251005093010_Allow Null Genre', N'9.0.9');
2025-10-05 16:30:20.808 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-05 16:30:46.622 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-05 16:30:48.558 +07:00 [INF] Now listening on: https://localhost:7204
2025-10-05 16:30:48.629 +07:00 [INF] Now listening on: http://localhost:5198
2025-10-05 16:30:48.969 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-05 16:30:50.195 +07:00 [INF] Hosting environment: Development
2025-10-05 16:30:50.201 +07:00 [INF] Content root path: C:\Users\Admin\OneDrive\Desktop\Web API template\Web API template
2025-10-05 16:30:55.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2025-10-05 16:30:56.399 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 1038.4866ms
2025-10-05 16:30:56.574 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2025-10-05 16:30:56.581 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2025-10-05 16:30:57.721 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 1147.8722ms
2025-10-05 16:30:58.015 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1434.3003ms
2025-10-05 16:30:58.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2025-10-05 16:30:58.273 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.0796ms
2025-10-05 16:31:01.521 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/auth/login - application/json; charset=utf-8 64
2025-10-05 16:31:01.727 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:31:01.790 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Web_API_template.Models.DTO.LoginRequestDTO) on controller WebAPI_simple.Controllers.AuthController (WebAPI_simple).
2025-10-05 16:31:06.817 +07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-05 16:31:07.758 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-05 16:31:07.927 +07:00 [INF] Executing OkObjectResult, writing value of type 'Web_API_template.Models.DTO.LoginResponseDTO'.
2025-10-05 16:31:08.146 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple) in 6333.8287ms
2025-10-05 16:31:08.152 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:31:08.168 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/auth/login - 200 null application/json; charset=utf-8 6650.1261ms
2025-10-05 16:31:08.358 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:31:08.439 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:31:08.452 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:31:08.473 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:31:09.014 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:31:09.016 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:31:09.201 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:31:09.219 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 3 kết quả.
2025-10-05 16:31:09.221 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:31:09.255 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 798.2888ms
2025-10-05 16:31:09.258 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:31:09.261 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 903.3535ms
2025-10-05 16:31:11.440 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:31:11.462 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:31:11.474 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:31:11.543 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:31:11.588 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:31:11.594 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 115.9832ms
2025-10-05 16:31:11.600 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:31:11.605 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 166.1278ms
2025-10-05 16:31:11.638 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:31:11.642 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:31:11.650 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:31:11.666 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:31:11.671 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:31:11.674 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 21.6235ms
2025-10-05 16:31:11.677 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:31:11.680 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 42.3625ms
2025-10-05 16:31:46.620 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/books/add-book - application/json; charset=utf-8 null
2025-10-05 16:31:46.629 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.AddBook (WebAPI_simple)'
2025-10-05 16:31:46.633 +07:00 [INF] Route matched with {action = "AddBook", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddBook(WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:31:46.735 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__addBookRequestDTO_PublisherID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Publishers] AS [p]
        WHERE [p].[Id] = @__addBookRequestDTO_PublisherID_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:31:46.898 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__addBookRequestDTO_AuthorIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__addBookRequestDTO_AuthorIds_0) WITH ([value] int '$') AS [a0]
)
2025-10-05 16:31:46.941 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__addBookRequestDTO_PublisherID_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE LOWER([b].[Title]) = @__ToLower_0 AND [b].[PublisherID] = @__addBookRequestDTO_PublisherID_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:31:46.962 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books_Authors] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-10-05 16:31:46.985 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__addBookRequestDTO_PublisherID_0='?' (DbType = Int32), @__yearOfBook_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Books] AS [b]
WHERE [b].[PublisherID] = @__addBookRequestDTO_PublisherID_0 AND DATEPART(year, [b].[DateAdded]) = @__yearOfBook_1
2025-10-05 16:31:47.260 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([CoverUrl], [DateAdded], [DateRead], [Description], [Genre], [IsRead], [PublisherID], [Rate], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-10-05 16:31:47.360 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books_Authors] ([AuthorId], [BookId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-10-05 16:31:47.424 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Title], [s].[Description], [s].[IsRead], [s].[DateRead], [s].[Rate], [s].[Genre], [s].[CoverUrl], [s].[Name], [s].[Id0], [s0].[FullName], [s0].[Id], [s0].[Id0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[Title], [b].[Description], [b].[IsRead], [b].[DateRead], [b].[Rate], [b].[Genre], [b].[CoverUrl], [p].[Name], [p].[Id] AS [Id0]
    FROM [Books] AS [b]
    INNER JOIN [Publishers] AS [p] ON [b].[PublisherID] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [a].[FullName], [b0].[Id], [a].[Id] AS [Id0], [b0].[BookId]
    FROM [Books_Authors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[BookId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-10-05 16:31:47.435 +07:00 [INF] Executing CreatedAtActionResult, writing value of type 'WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO'.
2025-10-05 16:31:47.473 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.AddBook (WebAPI_simple) in 834.6291ms
2025-10-05 16:31:47.482 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.AddBook (WebAPI_simple)'
2025-10-05 16:31:47.485 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/books/add-book - 201 null application/json; charset=utf-8 864.8358ms
2025-10-05 16:31:47.503 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:31:47.508 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:31:47.509 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:31:47.517 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:31:47.544 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:31:47.549 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:31:47.550 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:31:47.553 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 39.3508ms
2025-10-05 16:31:47.561 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:31:47.565 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 61.9289ms
2025-10-05 16:31:57.261 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:31:57.267 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:31:57.269 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:31:57.280 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:31:57.284 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:31:57.286 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 10.4142ms
2025-10-05 16:31:57.290 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:31:57.293 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 31.9415ms
2025-10-05 16:31:57.303 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:31:57.309 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:31:57.310 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:31:57.319 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:31:57.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:31:57.340 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 25.5813ms
2025-10-05 16:31:57.342 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:31:57.346 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 43.2098ms
2025-10-05 16:39:38.693 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-05 16:39:39.925 +07:00 [INF] Now listening on: https://localhost:7204
2025-10-05 16:39:39.952 +07:00 [INF] Now listening on: http://localhost:5198
2025-10-05 16:39:40.438 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-05 16:39:40.790 +07:00 [INF] Hosting environment: Development
2025-10-05 16:39:40.832 +07:00 [INF] Content root path: C:\Users\Admin\OneDrive\Desktop\Web API template\Web API template
2025-10-05 16:39:45.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2025-10-05 16:39:50.566 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 4950.5102ms
2025-10-05 16:39:50.654 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2025-10-05 16:39:50.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2025-10-05 16:39:50.989 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 335.1897ms
2025-10-05 16:39:51.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 535.6732ms
2025-10-05 16:39:54.177 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2025-10-05 16:39:54.249 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.1682ms
2025-10-05 16:39:59.776 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/auth/login - application/json; charset=utf-8 64
2025-10-05 16:39:59.936 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:40:00.051 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Web_API_template.Models.DTO.LoginRequestDTO) on controller WebAPI_simple.Controllers.AuthController (WebAPI_simple).
2025-10-05 16:40:03.740 +07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-05 16:40:04.193 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-05 16:40:04.270 +07:00 [INF] Executing OkObjectResult, writing value of type 'Web_API_template.Models.DTO.LoginResponseDTO'.
2025-10-05 16:40:04.299 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple) in 4182.8324ms
2025-10-05 16:40:04.303 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:40:04.334 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/auth/login - 200 null application/json; charset=utf-8 4559.6102ms
2025-10-05 16:40:04.421 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:40:04.601 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:40:04.626 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:04.643 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:40:05.053 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:40:05.057 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:40:05.372 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:40:05.393 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:40:05.398 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:05.435 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 803.2919ms
2025-10-05 16:40:05.439 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:40:05.441 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 1020.6235ms
2025-10-05 16:40:18.372 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:40:18.381 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:18.399 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:40:18.441 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:40:18.447 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:18.454 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 48.3013ms
2025-10-05 16:40:18.465 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:18.477 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 105.6791ms
2025-10-05 16:40:18.510 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:40:18.516 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:18.526 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:40:18.558 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:40:18.569 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:18.575 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 44.1037ms
2025-10-05 16:40:18.593 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:18.607 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 96.6582ms
2025-10-05 16:40:18.645 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/1007 - null null
2025-10-05 16:40:18.650 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:40:18.653 +07:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookById(Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:18.714 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Title], [s].[Description], [s].[IsRead], [s].[DateRead], [s].[Rate], [s].[Genre], [s].[CoverUrl], [s].[Name], [s].[Id0], [s0].[FullName], [s0].[Id], [s0].[Id0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[Title], [b].[Description], [b].[IsRead], [b].[DateRead], [b].[Rate], [b].[Genre], [b].[CoverUrl], [p].[Name], [p].[Id] AS [Id0]
    FROM [Books] AS [b]
    INNER JOIN [Publishers] AS [p] ON [b].[PublisherID] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [a].[FullName], [b0].[Id], [a].[Id] AS [Id0], [b0].[BookId]
    FROM [Books_Authors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[BookId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-10-05 16:40:18.728 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO'.
2025-10-05 16:40:18.731 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple) in 74.9056ms
2025-10-05 16:40:18.733 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:40:18.739 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/1007 - 200 null application/json; charset=utf-8 93.6518ms
2025-10-05 16:40:24.120 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/1007 - application/json; charset=utf-8 null
2025-10-05 16:40:24.129 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:24.136 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:24.192 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CoverUrl], [b].[DateAdded], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__id_0
2025-10-05 16:40:24.294 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__bookDTO_PublisherID_1='?' (DbType = Int32), @__id_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE LOWER([b].[Title]) = @__ToLower_0 AND [b].[PublisherID] = @__bookDTO_PublisherID_1 AND [b].[Id] <> @__id_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:40:24.324 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__bookDTO_PublisherID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Publishers] AS [p]
        WHERE [p].[Id] = @__bookDTO_PublisherID_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:40:24.438 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__bookDTO_AuthorIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [b].[value]
    FROM OPENJSON(@__bookDTO_AuthorIds_0) WITH ([value] int '$') AS [b]
)
2025-10-05 16:40:24.675 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [DateAdded] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-10-05 16:40:24.707 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId]
FROM [Books_Authors] AS [b]
WHERE [b].[BookId] = @__id_0
2025-10-05 16:40:24.894 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books_Authors]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [Books_Authors] ([AuthorId], [BookId])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2);
2025-10-05 16:40:24.928 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.AddBookRequestDTO'.
2025-10-05 16:40:24.934 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 794.834ms
2025-10-05 16:40:24.936 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:24.939 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/1007 - 200 null application/json; charset=utf-8 819.7473ms
2025-10-05 16:40:24.959 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:40:24.963 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:40:24.965 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:24.970 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:40:25.027 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:40:25.040 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:40:25.043 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:25.060 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 90.3902ms
2025-10-05 16:40:25.100 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:40:25.134 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 174.3954ms
2025-10-05 16:40:34.019 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:40:34.045 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:34.086 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:40:34.094 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:40:34.101 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:34.104 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 15.3358ms
2025-10-05 16:40:34.107 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:34.110 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 91.2988ms
2025-10-05 16:40:34.122 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:40:34.128 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:34.130 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:40:34.140 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:40:34.145 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:34.151 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 15.8946ms
2025-10-05 16:40:34.158 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:34.161 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 38.5698ms
2025-10-05 16:40:34.179 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/2 - null null
2025-10-05 16:40:34.210 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:40:34.220 +07:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookById(Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:34.256 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Title], [s].[Description], [s].[IsRead], [s].[DateRead], [s].[Rate], [s].[Genre], [s].[CoverUrl], [s].[Name], [s].[Id0], [s0].[FullName], [s0].[Id], [s0].[Id0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[Title], [b].[Description], [b].[IsRead], [b].[DateRead], [b].[Rate], [b].[Genre], [b].[CoverUrl], [p].[Name], [p].[Id] AS [Id0]
    FROM [Books] AS [b]
    INNER JOIN [Publishers] AS [p] ON [b].[PublisherID] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [a].[FullName], [b0].[Id], [a].[Id] AS [Id0], [b0].[BookId]
    FROM [Books_Authors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[BookId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-10-05 16:40:34.262 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO'.
2025-10-05 16:40:34.266 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple) in 35.6226ms
2025-10-05 16:40:34.268 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:40:34.270 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/2 - 200 null application/json; charset=utf-8 91.3345ms
2025-10-05 16:40:37.271 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:40:37.277 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:37.288 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:37.319 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:40:37.350 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 40.4191ms
2025-10-05 16:40:37.355 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:37.361 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 90.1662ms
2025-10-05 16:40:37.381 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:40:37.388 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:37.391 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:40:37.404 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:40:37.409 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:37.412 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 17.5718ms
2025-10-05 16:40:37.443 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:37.468 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 87.2743ms
2025-10-05 16:40:37.599 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:40:37.612 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:37.618 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:40:37.629 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:40:37.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:37.643 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 19.1684ms
2025-10-05 16:40:37.667 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:37.683 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 83.9ms
2025-10-05 16:40:40.035 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:40:40.045 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:40.050 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:40.056 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:40:40.059 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 4.471ms
2025-10-05 16:40:40.067 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:40.073 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 44.0274ms
2025-10-05 16:40:40.085 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:40:40.089 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:40.090 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:40:40.101 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:40:40.105 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:40.109 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 15.7499ms
2025-10-05 16:40:40.127 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:40.134 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 49.1931ms
2025-10-05 16:40:40.152 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:40:40.174 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:40.176 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:40:40.190 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:40:40.195 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:40.200 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 14.8425ms
2025-10-05 16:40:40.208 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:40.302 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 150.7672ms
2025-10-05 16:40:44.694 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:40:44.729 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:44.794 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:44.842 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:40:44.856 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 17.4632ms
2025-10-05 16:40:44.862 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:44.873 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 179.1053ms
2025-10-05 16:40:44.915 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:40:44.925 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:44.933 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:40:44.966 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:40:44.973 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:44.977 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 27.8496ms
2025-10-05 16:40:44.990 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:44.995 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 80.3607ms
2025-10-05 16:40:45.011 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:40:45.058 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:45.069 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:40:45.086 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:40:45.094 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:45.099 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 23.0661ms
2025-10-05 16:40:45.107 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:45.116 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 105.6517ms
2025-10-05 16:40:49.508 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:40:49.519 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:49.522 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:40:49.533 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:40:49.538 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 6.5169ms
2025-10-05 16:40:49.547 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:40:49.553 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 45.0271ms
2025-10-05 16:40:49.584 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:40:49.730 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:49.733 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:40:49.755 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:40:49.768 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:49.772 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 31.1566ms
2025-10-05 16:40:49.780 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:40:49.785 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 200.2595ms
2025-10-05 16:40:49.797 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:40:49.807 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:49.812 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:40:49.896 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:40:49.940 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:40:49.949 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 65.8165ms
2025-10-05 16:40:49.980 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:40:49.986 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 189.3609ms
2025-10-05 16:41:22.785 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:41:22.810 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:22.874 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:41:22.898 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:41:22.909 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 12.7045ms
2025-10-05 16:41:22.913 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:22.917 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 131.4562ms
2025-10-05 16:41:22.941 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:41:22.946 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:22.947 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:41:22.957 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:41:22.964 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:22.972 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 20.5299ms
2025-10-05 16:41:22.980 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:22.983 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 41.4312ms
2025-10-05 16:41:22.992 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:41:22.996 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:22.998 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:41:23.006 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:41:23.010 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:23.012 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 10.6266ms
2025-10-05 16:41:23.016 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:23.019 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 26.2219ms
2025-10-05 16:41:24.084 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:41:24.098 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:24.099 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:41:24.107 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:41:24.110 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 4.1875ms
2025-10-05 16:41:24.114 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:24.116 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 32.0816ms
2025-10-05 16:41:24.128 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:41:24.131 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:24.132 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:41:24.141 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:41:24.145 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:24.146 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 9.6106ms
2025-10-05 16:41:24.148 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:24.151 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 22.8149ms
2025-10-05 16:41:24.168 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:41:24.189 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:24.192 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:41:24.199 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:41:24.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:24.209 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 13.5273ms
2025-10-05 16:41:24.213 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:24.216 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 47.6695ms
2025-10-05 16:41:24.272 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:41:24.286 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:24.292 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:41:24.297 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:41:24.301 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 4.2953ms
2025-10-05 16:41:24.315 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:24.318 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 49.5866ms
2025-10-05 16:41:24.347 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:41:24.352 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:24.356 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:41:24.365 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:41:24.375 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:24.380 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 19.8977ms
2025-10-05 16:41:24.382 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:24.388 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 40.3818ms
2025-10-05 16:41:24.424 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:41:24.430 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:24.432 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:41:24.504 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:41:24.524 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:24.579 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 82.0502ms
2025-10-05 16:41:24.726 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:24.797 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 373.8143ms
2025-10-05 16:41:32.260 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - application/json; charset=utf-8 null
2025-10-05 16:41:32.271 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:32.275 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:41:32.281 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-05 16:41:32.284 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 6.0787ms
2025-10-05 16:41:32.290 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:41:32.292 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/2 - 400 null application/problem+json; charset=utf-8 32.5408ms
2025-10-05 16:41:32.309 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:41:32.316 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:32.322 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:41:32.333 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:41:32.341 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:32.344 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 15.5632ms
2025-10-05 16:41:32.347 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:32.355 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 46.3735ms
2025-10-05 16:41:32.378 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:41:32.388 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:32.390 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:41:32.398 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:41:32.407 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:32.410 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 16.5554ms
2025-10-05 16:41:32.416 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:32.422 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 45.2882ms
2025-10-05 16:41:37.223 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:41:37.233 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:41:37.242 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:41:37.248 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:41:37.706 +07:00 [INF] Executed DbCommand (406ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:41:37.746 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:41:37.753 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:37.758 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 510.3265ms
2025-10-05 16:41:37.798 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:41:37.807 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 584.5341ms
2025-10-05 16:41:55.268 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:41:55.275 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:55.276 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:41:55.284 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:41:55.287 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:55.289 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 9.943ms
2025-10-05 16:41:55.293 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:41:55.296 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 31.1559ms
2025-10-05 16:41:55.305 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:41:55.309 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:55.325 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:41:55.347 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:41:55.416 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:41:55.426 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 87.4049ms
2025-10-05 16:41:55.457 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:41:55.472 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 166.9698ms
2025-10-05 16:42:00.092 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:42:00.100 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:42:00.103 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:42:00.117 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:42:00.191 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:42:00.383 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:42:00.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:42:00.392 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 275.0614ms
2025-10-05 16:42:00.400 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:42:00.403 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 311.3016ms
2025-10-05 16:42:25.233 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:42:25.267 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:42:25.281 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:42:25.310 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:42:25.315 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:42:25.318 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 21.7354ms
2025-10-05 16:42:25.320 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:42:25.324 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 91.0353ms
2025-10-05 16:42:25.384 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:42:25.406 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:42:25.433 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:42:25.466 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:42:25.473 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:42:25.476 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 15.1987ms
2025-10-05 16:42:25.478 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:42:25.480 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 96.6582ms
2025-10-05 16:43:36.611 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:43:36.631 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:43:36.633 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:43:36.640 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:43:36.695 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:43:36.757 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:43:36.760 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:43:36.765 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 125.4147ms
2025-10-05 16:43:36.780 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:43:36.784 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 172.7552ms
2025-10-05 16:43:38.765 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:43:38.791 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:43:38.794 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:43:38.803 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:43:38.812 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:43:38.815 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 17.65ms
2025-10-05 16:43:38.818 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:43:38.825 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 60.468ms
2025-10-05 16:43:38.841 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:43:38.847 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:43:38.849 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:43:38.860 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:43:38.867 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:43:38.875 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 22.8441ms
2025-10-05 16:43:38.890 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:43:38.896 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 55.4379ms
2025-10-05 16:43:38.943 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/2 - null null
2025-10-05 16:43:38.966 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:43:38.968 +07:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookById(Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:43:39.029 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Title], [s].[Description], [s].[IsRead], [s].[DateRead], [s].[Rate], [s].[Genre], [s].[CoverUrl], [s].[Name], [s].[Id0], [s0].[FullName], [s0].[Id], [s0].[Id0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[Title], [b].[Description], [b].[IsRead], [b].[DateRead], [b].[Rate], [b].[Genre], [b].[CoverUrl], [p].[Name], [p].[Id] AS [Id0]
    FROM [Books] AS [b]
    INNER JOIN [Publishers] AS [p] ON [b].[PublisherID] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [a].[FullName], [b0].[Id], [a].[Id] AS [Id0], [b0].[BookId]
    FROM [Books_Authors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[BookId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-10-05 16:43:39.035 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO'.
2025-10-05 16:43:39.039 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple) in 29.9909ms
2025-10-05 16:43:39.041 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:43:39.043 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/2 - 200 null application/json; charset=utf-8 100.5508ms
2025-10-05 16:43:41.877 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:43:41.883 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:43:41.885 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:43:41.893 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:43:41.916 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:43:41.924 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:43:41.926 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:43:41.928 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 36.1587ms
2025-10-05 16:43:41.935 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:43:41.941 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 64.3765ms
2025-10-05 16:55:38.708 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-05 16:55:40.014 +07:00 [INF] Now listening on: https://localhost:7204
2025-10-05 16:55:40.086 +07:00 [INF] Now listening on: http://localhost:5198
2025-10-05 16:55:40.544 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-05 16:55:40.553 +07:00 [INF] Hosting environment: Development
2025-10-05 16:55:40.555 +07:00 [INF] Content root path: C:\Users\Admin\OneDrive\Desktop\Web API template\Web API template
2025-10-05 16:55:48.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2025-10-05 16:55:49.943 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 1448.9078ms
2025-10-05 16:55:50.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2025-10-05 16:55:50.290 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2025-10-05 16:55:50.744 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 563.8831ms
2025-10-05 16:55:51.473 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1183.1604ms
2025-10-05 16:55:51.816 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2025-10-05 16:55:52.671 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 855.1784ms
2025-10-05 16:56:14.778 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7204/api/auth/login - application/json; charset=utf-8 64
2025-10-05 16:56:14.919 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:56:15.012 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Web_API_template.Models.DTO.LoginRequestDTO) on controller WebAPI_simple.Controllers.AuthController (WebAPI_simple).
2025-10-05 16:56:20.271 +07:00 [INF] Executed DbCommand (1,012ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-05 16:56:21.047 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-05 16:56:21.146 +07:00 [INF] Executing OkObjectResult, writing value of type 'Web_API_template.Models.DTO.LoginResponseDTO'.
2025-10-05 16:56:21.163 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple) in 5943.7429ms
2025-10-05 16:56:21.206 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthController.Login (WebAPI_simple)'
2025-10-05 16:56:21.222 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7204/api/auth/login - 200 null application/json; charset=utf-8 6444.5109ms
2025-10-05 16:56:21.278 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:56:21.466 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:56:21.482 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:56:21.504 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:56:21.872 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:56:21.917 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-10-05 16:56:22.318 +07:00 [INF] Executed DbCommand (256ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:56:22.333 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:56:22.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:56:22.370 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 880.3814ms
2025-10-05 16:56:22.375 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:56:22.381 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 1103.2512ms
2025-10-05 16:56:25.196 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:56:25.217 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:56:25.226 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:56:25.310 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:56:25.316 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:56:25.322 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 91.8184ms
2025-10-05 16:56:25.328 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.Authors2025-10-05 16:56:39.839 +07:00 [INF] Executed DbCommand (5,524ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__bookDTO_PublisherID_1='?' (DbType = Int32), @__id_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE LOWER([b].[Title]) = @__ToLower_0 AND [b].[PublisherID] = @__bookDTO_PublisherID_1 AND [b].[Id] <> @__id_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:56:39.887 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Title], [s].[Description], [s].[IsRead], [s].[DateRead], [s].[Rate], [s].[Genre], [s].[CoverUrl], [s].[Name], [s].[Id0], [s0].[FullName], [s0].[Id], [s0].[Id0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[Title], [b].[Description], [b].[IsRead], [b].[DateRead], [b].[Rate], [b].[Genre], [b].[CoverUrl], [p].[Name], [p].[Id] AS [Id0]
    FROM [Books] AS [b]
    INNER JOIN [Publishers] AS [p] ON [b].[PublisherID] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [a].[FullName], [b0].[Id], [a].[Id] AS [Id0], [b0].[BookId]
    FROM [Books_Authors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[BookId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-10-05 16:56:39.898 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2025-10-05 16:56:39.916 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 5838.4621ms
2025-10-05 16:56:39.923 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:56:39.926 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/1007 - 400 null application/json; charset=utf-8 5935.1298ms
2025-10-05 16:56:39.944 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:56:39.955 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:56:39.969 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:56:40.060 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:56:40.129 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:56:40.139 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 166.415ms
2025-10-05 16:56:40.172 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:56:40.177 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 232.3046ms
2025-10-05 16:56:40.229 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:56:40.238 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:56:40.250 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:56:40.265 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:56:40.271 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:56:40.276 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 16.6192ms
2025-10-05 16:56:40.502 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:56:40.506 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 276.5921ms
2025-10-05 16:56:44.191 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:56:44.226 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:56:44.228 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:56:44.233 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:56:44.278 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:56:44.314 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:56:44.380 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:56:44.409 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 176.4183ms
2025-10-05 16:56:44.441 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:56:44.447 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 256.3512ms
2025-10-05 16:56:47.146 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:56:47.223 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:56:47.272 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:56:47.344 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:56:47.360 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:56:47.363 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 72.0963ms
2025-10-05 16:56:47.369 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:56:47.377 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 230.7846ms
2025-10-05 16:56:47.388 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:56:47.393 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:56:47.396 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:56:47.409 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:56:47.423 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:56:47.426 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 23.4713ms
2025-10-05 16:56:47.451 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:56:47.454 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 66.5386ms
2025-10-05 16:56:47.508 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/2 - null null
2025-10-05 16:56:47.623 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:56:47.626 +07:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookById(Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:56:47.644 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Title], [s].[Description], [s].[IsRead], [s].[DateRead], [s].[Rate], [s].[Genre], [s].[CoverUrl], [s].[Name], [s].[Id0], [s0].[FullName], [s0].[Id], [s0].[Id0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[Title], [b].[Description], [b].[IsRead], [b].[DateRead], [b].[Rate], [b].[Genre], [b].[CoverUrl], [p].[Name], [p].[Id] AS [Id0]
    FROM [Books] AS [b]
    INNER JOIN [Publishers] AS [p] ON [b].[PublisherID] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [a].[FullName], [b0].[Id], [a].[Id] AS [Id0], [b0].[BookId]
    FROM [Books_Authors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[BookId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-10-05 16:56:47.653 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO'.
2025-10-05 16:56:47.657 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple) in 26.179ms
2025-10-05 16:56:47.659 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:56:47.666 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get2025-10-05 16:59:07.121 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/1004 - application/json; charset=utf-8 null
2025-10-05 16:59:07.128 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:59:07.129 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:59:07.147 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CoverUrl], [b].[DateAdded], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__id_0
2025-10-05 16:59:07.170 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__bookDTO_PublisherID_1='?' (DbType = Int32), @__id_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE LOWER([b].[Title]) = @__ToLower_0 AND [b].[PublisherID] = @__bookDTO_PublisherID_1 AND [b].[Id] <> @__id_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:59:07.182 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bookDTO_PublisherID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Publishers] AS [p]
        WHERE [p].[Id] = @__bookDTO_PublisherID_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:59:07.320 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__bookDTO_AuthorIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [b].[value]
    FROM OPENJSON(@__bookDTO_AuthorIds_0) WITH ([value] int '$') AS [b]
)
2025-10-05 16:59:07.548 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [CoverUrl] = @p0, [DateAdded] = @p1, [DateRead] = @p2, [Genre] = @p3, [IsRead] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-10-05 16:59:07.594 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId]
FROM [Books_Authors] AS [b]
WHERE [b].[BookId] = @__id_0
2025-10-05 16:59:07.790 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books_Authors]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [Books_Authors] ([AuthorId], [BookId])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2);
2025-10-05 16:59:07.845 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.AddBookRequestDTO'.
2025-10-05 16:59:07.854 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 721.6264ms
2025-10-05 16:59:07.856 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:59:07.858 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/1004 - 200 null application/json; charset=utf-8 736.9189ms
2025-10-05 16:59:07.913 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:59:07.918 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:59:07.919 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:59:07.923 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:59:07.942 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:59:07.949 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:59:07.951 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:59:07.954 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 30.974ms
2025-10-05 16:59:07.959 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:59:07.962 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 49.2844ms
2025-10-05 16:59:17.509 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - null null
2025-10-05 16:59:17.522 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:59:17.523 +07:00 [INF] Route matched with {action = "GetAllAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAuthors() on controller WebAPI_simple.Controllers.AuthorsController (WebAPI_simple).
2025-10-05 16:59:17.531 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
2025-10-05 16:59:17.538 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.AuthorDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:59:17.541 +07:00 [INF] Executed action WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple) in 14.8293ms
2025-10-05 16:59:17.543 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.AuthorsController.GetAllAuthors (WebAPI_simple)'
2025-10-05 16:59:17.545 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/authors/get-all-author - 200 null application/json; charset=utf-8 36.1946ms
2025-10-05 16:59:17.559 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - null null
2025-10-05 16:59:17.562 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:59:17.568 +07:00 [INF] Route matched with {action = "GetAllPublishers", controller = "Publishers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPublishers() on controller WebAPI_simple.Controllers.PublishersController (WebAPI_simple).
2025-10-05 16:59:17.574 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Publishers] AS [p]
2025-10-05 16:59:17.578 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.PublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:59:17.585 +07:00 [INF] Executed action WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple) in 13.1859ms
2025-10-05 16:59:17.588 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.PublishersController.GetAllPublishers (WebAPI_simple)'
2025-10-05 16:59:17.591 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/publishers/get-all-publisher - 200 null application/json; charset=utf-8 31.8469ms
2025-10-05 16:59:17.605 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/1007 - null null
2025-10-05 16:59:17.609 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:59:17.611 +07:00 [INF] Route matched with {action = "GetBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBookById(Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:59:17.650 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Title], [s].[Description], [s].[IsRead], [s].[DateRead], [s].[Rate], [s].[Genre], [s].[CoverUrl], [s].[Name], [s].[Id0], [s0].[FullName], [s0].[Id], [s0].[Id0]
FROM (
    SELECT TOP(1) [b].[Id], [b].[Title], [b].[Description], [b].[IsRead], [b].[DateRead], [b].[Rate], [b].[Genre], [b].[CoverUrl], [p].[Name], [p].[Id] AS [Id0]
    FROM [Books] AS [b]
    INNER JOIN [Publishers] AS [p] ON [b].[PublisherID] = [p].[Id]
    WHERE [b].[Id] = @__id_0
) AS [s]
LEFT JOIN (
    SELECT [a].[FullName], [b0].[Id], [a].[Id] AS [Id0], [b0].[BookId]
    FROM [Books_Authors] AS [b0]
    INNER JOIN [Authors] AS [a] ON [b0].[AuthorId] = [a].[Id]
) AS [s0] ON [s].[Id] = [s0].[BookId]
ORDER BY [s].[Id], [s].[Id0], [s0].[Id]
2025-10-05 16:59:17.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO'.
2025-10-05 16:59:17.657 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple) in 34.4502ms
2025-10-05 16:59:17.659 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetBookById (WebAPI_simple)'
2025-10-05 16:59:17.661 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-book-by-id/1007 - 200 null application/json; charset=utf-8 56.2018ms
2025-10-05 16:59:56.691 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/1007 - application/json; charset=utf-8 null
2025-10-05 16:59:56.701 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:59:56.703 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI_simple.Models.DTO.AddBookRequestDTO) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:59:56.718 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CoverUrl], [b].[DateAdded], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__id_0
2025-10-05 16:59:56.730 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__bookDTO_PublisherID_1='?' (DbType = Int32), @__id_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Books] AS [b]
        WHERE LOWER([b].[Title]) = @__ToLower_0 AND [b].[PublisherID] = @__bookDTO_PublisherID_1 AND [b].[Id] <> @__id_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:59:56.743 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__bookDTO_PublisherID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Publishers] AS [p]
        WHERE [p].[Id] = @__bookDTO_PublisherID_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-05 16:59:56.759 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__bookDTO_AuthorIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
WHERE [a].[Id] IN (
    SELECT [b].[value]
    FROM OPENJSON(@__bookDTO_AuthorIds_0) WITH ([value] int '$') AS [b]
)
2025-10-05 16:59:56.794 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [DateAdded] = @p0, [Rate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-10-05 16:59:56.806 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId]
FROM [Books_Authors] AS [b]
WHERE [b].[BookId] = @__id_0
2025-10-05 16:59:56.819 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Books_Authors]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [Books_Authors] ([AuthorId], [BookId])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2);
2025-10-05 16:59:56.826 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI_simple.Models.DTO.AddBookRequestDTO'.
2025-10-05 16:59:56.828 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple) in 115.9039ms
2025-10-05 16:59:56.840 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.UpdateBookById (WebAPI_simple)'
2025-10-05 16:59:56.842 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7204/api/books/update-book-by-id/1007 - 200 null application/json; charset=utf-8 150.9015ms
2025-10-05 16:59:56.902 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 16:59:56.923 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:59:56.934 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 16:59:56.941 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 16:59:56.965 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 16:59:56.975 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 4 kết quả.
2025-10-05 16:59:56.984 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 16:59:56.999 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 59.1418ms
2025-10-05 16:59:57.003 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 16:59:57.007 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 105.4897ms
2025-10-05 17:00:04.297 +07:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7204/api/books/delete-book-by-id/1007 - null null
2025-10-05 17:00:04.306 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.DeleteBookById (WebAPI_simple)'
2025-10-05 17:00:04.311 +07:00 [INF] Route matched with {action = "DeleteBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DeleteBookById(Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 17:00:04.331 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CoverUrl], [b].[DateAdded], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__id_0
2025-10-05 17:00:04.380 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
OUTPUT 1
WHERE [Id] = @p0;
2025-10-05 17:00:04.406 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-05 17:00:04.411 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.DeleteBookById (WebAPI_simple) in 92.9728ms
2025-10-05 17:00:04.414 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.DeleteBookById (WebAPI_simple)'
2025-10-05 17:00:04.416 +07:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7204/api/books/delete-book-by-id/1007 - 204 null null 119.2329ms
2025-10-05 17:00:04.458 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - null null
2025-10-05 17:00:04.475 +07:00 [INF] Executing endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 17:00:04.479 +07:00 [INF] Route matched with {action = "GetAllBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBooks(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller WebAPI_simple.Controllers.BooksController (WebAPI_simple).
2025-10-05 17:00:04.504 +07:00 [INF] Action GetAllBooks đã được gọi.
2025-10-05 17:00:04.576 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[Title], [b0].[Description], [b0].[IsRead], [b0].[DateRead], [b0].[Rate], [b0].[Genre], [b0].[CoverUrl], [p].[Name], [p].[Id], [s].[FullName], [s].[Id], [s].[Id0]
FROM (
    SELECT [b].[Id], [b].[CoverUrl], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Publishers] AS [p] ON [b0].[PublisherID] = [p].[Id]
LEFT JOIN (
    SELECT [a].[FullName], [b1].[Id], [a].[Id] AS [Id0], [b1].[BookId]
    FROM [Books_Authors] AS [b1]
    INNER JOIN [Authors] AS [a] ON [b1].[AuthorId] = [a].[Id]
) AS [s] ON [b0].[Id] = [s].[BookId]
ORDER BY [b0].[Id], [p].[Id], [s].[Id]
2025-10-05 17:00:04.628 +07:00 [INF] Yêu cầu GetAllBooks đã hoàn tất thành công. Trả về 3 kết quả.
2025-10-05 17:00:04.682 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebAPI_simple.Models.DTO.BookWithAuthorAndPublisherDTO, WebAPI_simple, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-05 17:00:04.685 +07:00 [INF] Executed action WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple) in 181.3738ms
2025-10-05 17:00:04.692 +07:00 [INF] Executed endpoint 'WebAPI_simple.Controllers.BooksController.GetAllBooks (WebAPI_simple)'
2025-10-05 17:00:04.695 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/books/get-all-books - 200 null application/json; charset=utf-8 237.2383ms
